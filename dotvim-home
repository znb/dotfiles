"
" general
"
set shell=/bin/zsh
packadd! dracula
syntax enable
colorscheme dracula
set noswapfile
set mouse=a
 
" Plug-in Management
packadd minpac
call minpac#init()
 
" Managed plugins (automatically installed and updated via "Pu" and "Pc")
call minpac#add('k-takata/minpac', {'type': 'opt'})
call minpac#add('vim-airline/vim-airline')
call minpac#add('vim-airline/vim-airline-themes')
call minpac#add('airblade/vim-gitgutter')
call minpac#add('Yggdroot/indentLine')
call minpac#add('godlygeek/tabular')
call minpac#add('dense-analysis/ale')
 
 
command! Pu call minpac#update()
command! Pc call minpac#clean()
 
" Colours
syntax on
set termguicolors
set background=dark
set laststatus=2
set guifont=Hack:h14
 
" end of file stuff
set scrolloff=5
 
" Mappings
let mapleader=" "
noremap <Leader>w :w<CR>
nnoremap <Leader>wq :wq<CR>
nnoremap <Leader>q :q<CR>
nnoremap <Leader>e :q!<CR>
nnoremap <Leader>b :browse old<CR>
 
" Mappings - buffers
noremap <Leader>t :tabnew<CR>
noremap <Leader>l :ls<CR>
nnoremap <Leader>b :bp<CR>
nnoremap <Leader>f :bn<CR>
nnoremap <Leader>g :e#<CR>
nnoremap <Leader>1 :1b<CR>
nnoremap <Leader>2 :2b<CR>
nnoremap <Leader>3 :3b<CR>
nnoremap <Leader>4 :4b<CR>
nnoremap <Leader>5 :5b<CR>
nnoremap <Leader>6 :6b<CR>
nnoremap <Leader>7 :7b<CR>
nnoremap <Leader>8 :8b<CR>
nnoremap <Leader>9 :9b<CR>
nnoremap <Leader>0 :10b<CR>
 
" Move visual selection
vnoremap J :m '>+1<cr>gv=gv
vnoremap K :m '<-2<cr>gv=gv
 
" Line numbers
nnoremap <leader>n :set nonumber!<CR>

" Better changes
onoremap q i'
onoremap Q i"
 
" Clear highlighting
nnoremap <leader>c :nohl<CR>
 
" NO escape
inoremap jk <Esc>
 
" Searches
set incsearch
set nohlsearch
set ignorecase smartcase
 
" Enable line numbers
set number
 
" Folding
set foldenable
set foldlevelstart=10
set foldnestmax=10
set foldmethod=indent
 
" Cursors
set cuc
set cul
set ruler
 
" Backups
set backup
set backupdir=~/.vim/backups
set directory=~/.vim/swaps
if exists("&undodir")
    set undodir=~/.vim/undo
endif
set writebackup
 
" Show “invisible” characters
set list
set listchars=tab:▸\ ,trail:·,eol:¬,nbsp:_
 
" airline settings
let g:airline_theme = 'angr'
let g:airline#extensions#tabline#enabled = 1
let g:airline_powerline_fonts = 1
let g:airline#extensions#ale#enabled = 1
let g:airline#extensions#ale#error_symbol = 'E:'
let g:airline#extensions#ale#warning_symbol = 'W:'
 
" indentLine
let g:indentLine_char = '┊'
 
" ALE config
let g:ale_echo_msg_format = '[%linter%] %s [%severity%]'
let g:ale_sign_error = '✘'
let g:ale_sign_warning = '⚠'
let g:ale_lint_on_text_changed = 'never'
 
" Spelling
nnoremap <leader>sp :set spell<CR>
nnoremap <leader>np :set nospell<CR>
nnoremap <leader>s ]s
nnoremap <leader>z 1z=
hi SpellBad cterm=underline gui=underline,bold
 
 
" YAML indentation
au! BufNewFile,BufReadPost *.{yaml,yml} set filetype=yaml foldmethod=indent
autocmd FileType yaml setlocal ts=2 sts=2 sw=2 expandtab
 
" Markdown fenced languages
let g:markdown_fenced_languages = ['html', 'python', 'ruby', 'vim']
